<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Amethintel I — Search Submit</title>
  <link rel="stylesheet" href="/css/main.css">
</head>

<body>
  <div class="container">
    <h1>Amethintel I — Search Submit</h1>
    <p class="lead">Enter up to 5 keywords (combine with AND / OR), choose year/region filters and select databases.
      Each selected DB can be configured separately. On submit, data is sent to the backend.</p>

    <form id="searchForm" class="card" onsubmit="return false;">
      <div style="margin-bottom:12px">
        <label>Keywords (up to 5) <span class="small">— add/remove as needed</span></label>
        <div id="keywordsContainer" class="keywords"></div>
        <div style="margin-top:8px" class="row">
          <button id="addKeyword" type="button" class="btn-ghost">+ Add Keyword</button>
          <button id="removeKeyword" type="button" class="btn-ghost">− Remove</button>
        </div>
      </div>

      <div style="margin-bottom:12px">
        <label>Year Range</label>
        <div class="row" style="gap:8px">
          <div style="flex:1">
            <input type="number" id="dateFrom" placeholder="From (e.g., 2018)" min="1900" max="2100" />
          </div>
          <div style="flex:1">
            <input type="number" id="dateTo" placeholder="To (e.g., 2025)" min="1900" max="2100" />
          </div>
        </div>
      </div>

      <div style="margin-bottom:12px">
        <label>Max results</label>
        <div class="row" style="gap:8px;max-width:240px">
          <input type="number" id="maxResults" value="100" min="1" max="10000" />
          <div class="small">Limit results sent by the backend (1–10000)</div>
        </div>
      </div>

      <div style="margin-bottom:12px">
        <label>Region / Country</label>
        <select id="regions" multiple size="4" style="min-height:80px">
          <option value="Global">Global</option>
          <option value="North America">North America</option>
          <option value="Europe">Europe</option>
          <option value="Asia">Asia</option>
          <option value="South America">South America</option>
          <option value="Africa">Africa</option>
          <option value="Oceania">Oceania</option>
        </select>
        <div class="small" style="margin-top:6px">Hold Ctrl / Cmd to multi-select (or tap to choose multiple).</div>
      </div>

      <div style="margin-bottom:12px">
        <label>Select Databases to configure</label>
        <div class="db-list" id="dbList">
          </div>
        <div class="small" style="margin-top:6px">You can select multiple databases. Each selection will open a
          configuration popup. Actual search will be run one DB at a time.</div>
      </div>

      <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
        <button type="button" id="submitBtn">Submit Search</button>
        <button type="button" id="clearBtn" class="btn-ghost">Clear</button>
        <div id="status" class="status"></div>
      </div>
    </form>

    <footer>
      <div>Instructions: After deployment, set the BACKEND_URL constant in the script if needed.</div>
    </footer>
  </div>

  <div id="modalRoot" style="display:none"></div>
  <script type="module"  src="/js/main.js"></script>
</body>

</html>